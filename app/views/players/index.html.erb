<%- content_for :title, "Search '#{params[:query]}'" %>

<div class="wrapper-header submerged">
    <h1 class="has-subtitle">Search results</h1>
    <p class="subtitle">We found <%= pluralize @players.count, 'result' %> for the query '<%= params[:query] %>'.</p>
</div>

<div class="column-wrapper">

    <div class="wide">

        <!-- Search results -->
        <div class="background">
            <h2><i class="material-icons">&#xE8B6;</i>Results</h2>

            <%- if @players.empty? %>
                <%= render partial: 'application/empty-state', locals: { description: 'This search returned no results.'} %>
            <%- else %>
                <div class="table-wrapper">
                    <table>
                        <tr>
                            <th>Name</th>
                            <th class="stretch">Username</th>
                            <th class="numeric">Played</th>
                            <th class="numeric">Wins</th>
                            <th class="numeric">Score</th>
                        </tr>
                        <%= render collection: @players, partial: 'player' %>
                    </table>
                </div>
            <%- end %>

            <div class="background-footer">
                <%= paginate @players %>
                <p><%= page_entries_info @players %></p>
            </div>

        </div>

    </div>

</div>