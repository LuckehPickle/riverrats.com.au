<%- content_for :title, 'Event Calendar' %>

<div class="thin-hero">
    <div class="wrapper">
        <h1 class="has-subtitle"><%= local_date @date, '%B, %Y' %></h1>
        <p class="subtitle">View all upcoming events. Click on an event for more details. <strong>Note:</strong> Events are generated 6 months in advance.</p>
    </div>
</div>

<div class="wrapper" style="margin-top: 0;">

    <!-- Event tools -->
<!--    <div class="background">-->
        <%#= form_with url: events_path do |form| %>

            <%#= form.label :venue %>
            <%#= form.collection_select :venue, Venue.all, :id, :name %>

            <%#= form.label :region %>
            <%#= form.collection_select :region, Region.all, :id, :name %>

        <%# end %>
<!--    </div>-->

    <!-- Calendar -->
    <div class="background">

        <!-- Calendar controls -->
        <%= render partial: 'calendar-controls', locals: { date: @date } %>

        <div class="calendar">
            <p class="title">Sun</p>
            <p class="title">Mon</p>
            <p class="title">Tue</p>
            <p class="title">Wed</p>
            <p class="title">Thu</p>
            <p class="title">Fri</p>
            <p class="title">Sat</p>
            <% @events.each do |date, events| %>
                <div class="date<%= ' disabled' if date.month != @date.month %><%= ' today' if date == Date.today %>">
                    <p class="day"><span class="inter-ui-ss01"><%= date.day %></span></p>
                    <ul>
                        <%= render collection: events, partial: 'event' %>
                    </ul>
                </div>
            <% end %>
        </div>

        <!-- Calendar controls -->
        <%= render partial: 'calendar-controls', locals: { date: @date } %>

    </div>

</div>
